#region Comments
/* Conversion Comments
   ************************************************************
   **   MODERN SYSTEMS INC.  COPYRIGHT 2000-2022
   **   DB-SHUTTLE COBOL to C# Conversion
   ************************************************************
   ** INIT   *  INITIAL VERSION   *  2022-03-02 04:48:17 PM
   **        *   FROM COBOL PGM   :  SWEXGC00
   **        *   FROM CANISTER    :  SR.CAECSES.PROD.LIBR.SOURCE.PDS
   ************************************************************ */

/* Original Program Identification Comments
   **************************************************************
                       SOURCE CODE GENERATED BY
                   INFORMATION ENGINEERING FACILITY (TM)
                       TEXAS INSTRUMENTS INC.
                COPYRIGHT (C) TEXAS INSTRUMENTS INC. 1997
       NAME: EAB_XCTL_TO_KAECSES_W_USERID     DATE: 97/03/05
       TARGET OS:   MVS                       TIME: 18:21:11
       TARGET DBMS: DB2                       USER: SWMTLYD
       GENERATION OPTIONS:
       DEBUG TRACE OPTION NOT SELECTED
       DATA MODELING CONSTRAINT ENFORCEMENT NOT SELECTED
       OPTIMIZED IMPORT VIEW INITIALIZATION SELECTED
       THIS EXECUTES AN XCTL THAT RETURNS THE USER FROM THE
       KESSEP MAIN MENU TO THE KAECSES SYSTEM SELECTION MENU
       WHERE THEY ORIGINALLY ENTERED KESSEP FROM.
       REGAN WELBORN   MTW SENIOR   3/6/97
   **************************************************************
*/
#endregion
#region Using Directives
using MDSY.Framework.Buffer;
using MDSY.Framework.Buffer.BaseClasses;
using MDSY.Framework.Buffer.Common;
using MDSY.Framework.Buffer.Interfaces;
using MDSY.Framework.Control.CICS;
using System;
#endregion

namespace GOV.KS.DCF.CSS.Common.BL
{
    #region Working Storage Class
    internal class SWEXGC00_ws : PredefinedRecordBase
    {
        #region Name constants
        /// <summary>
        /// Name constants.
        /// </summary>
        internal static class Names
        {
            internal const string WorkingStorage = "SWEXGC00_ws_WorkingStorage";
            internal const string FUNC_0844107087_ESC_FLAG = "FUNC_0844107087_ESC_FLAG";
            internal const string MC_SYSTEM_SELECT_PGM = "MC_SYSTEM_SELECT_PGM";
            internal const string WS_CALEN = "WS_CALEN";
            internal const string WS_COMMAREA = "WS_COMMAREA";
        }
        #endregion

        #region Direct-access element properties
        public IField FUNC_0844107087_ESC_FLAG { get { return GetElementByName<IField>(Names.FUNC_0844107087_ESC_FLAG); } }
        public IField MC_SYSTEM_SELECT_PGM { get { return GetElementByName<IField>(Names.MC_SYSTEM_SELECT_PGM); } }
        public IField WS_CALEN { get { return GetElementByName<IField>(Names.WS_CALEN); } }
        public IField WS_COMMAREA { get { return GetElementByName<IField>(Names.WS_COMMAREA); } }

        #endregion

        #region Data structure definition
        /// <summary>
        /// Defines the entirety of the WorkingStorage IRecord structure as described by the Ateras.Framework.Buffer API.
        /// </summary>
        /// <param name="recordDef">The IStructureDefinition object to be used in defining the record structure.</param>
        protected override void DefineRecordStructure(IStructureDefinition recordDef)
        {
            recordDef.CreateNewField(Names.FUNC_0844107087_ESC_FLAG, FieldType.String, 1);
            recordDef.CreateNewField(Names.MC_SYSTEM_SELECT_PGM, FieldType.String, 8, "SWASS010");
            recordDef.CreateNewField(Names.WS_CALEN, FieldType.CompShort, 4);
            recordDef.CreateNewField(Names.WS_COMMAREA, FieldType.String, 8, SPACES);

        }

        protected override string GetRecordName()
        {
            return Names.WorkingStorage;
        }
        #endregion

    }
    #endregion Working Storage Class

    #region Linkage Section Class
    internal class SWEXGC00_ls : PredefinedRecordBase
    {
        #region Name constants
        /// <summary>
        /// Name constants.
        /// </summary>
        internal static class Names
        {
            internal const string LinkageSection = "SWEXGC00_ls_LinkageSection";
            internal const string PSMGR_EAB_DATA = "PSMGR_EAB_DATA";
            internal const string PSMGR_EABPCB_CNT = "PSMGR_EABPCB_CNT";
            internal const string PSMGR_EABPCB_ENTRY = "PSMGR_EABPCB_ENTRY";
            internal const string PSMGR_EABPCB_ADR = "PSMGR_EABPCB_ADR";
            internal const string W_IA = "W_IA";
            internal const string A_0844107090_IA = "A_0844107090_IA";
            internal const string IMPORT_0001EV = "IMPORT_0001EV";
            internal const string SECURITY_0001ET = "SECURITY_0001ET";
            internal const string USERID_0001AS = "USERID_0001AS";
            internal const string USERID_0001 = "USERID_0001";
            internal const string USERID_0001XX = "USERID_0001XX";
        }
        #endregion

        #region Direct-access element properties
        public IGroup PSMGR_EAB_DATA { get { return GetElementByName<IGroup>(Names.PSMGR_EAB_DATA); } }
        public IField PSMGR_EABPCB_CNT { get { return GetElementByName<IField>(Names.PSMGR_EABPCB_CNT); } }
        public IArrayElementAccessor<IGroup> PSMGR_EABPCB_ENTRY { get { return GetArrayElementAccessor<IGroup>(Names.PSMGR_EABPCB_ENTRY); } }
        public IArrayElementAccessor<IField> PSMGR_EABPCB_ADR { get { return GetArrayElementAccessor<IField>(Names.PSMGR_EABPCB_ADR); } }
        public IGroup W_IA { get { return GetElementByName<IGroup>(Names.W_IA); } }
        public IGroup A_0844107090_IA { get { return GetElementByName<IGroup>(Names.A_0844107090_IA); } }
        public IGroup IMPORT_0001EV { get { return GetElementByName<IGroup>(Names.IMPORT_0001EV); } }
        public IGroup SECURITY_0001ET { get { return GetElementByName<IGroup>(Names.SECURITY_0001ET); } }
        public IField USERID_0001AS { get { return GetElementByName<IField>(Names.USERID_0001AS); } }
        public IField USERID_0001 { get { return GetElementByName<IField>(Names.USERID_0001); } }
        public IField USERID_0001XX { get { return GetElementByName<IField>(Names.USERID_0001XX); } }

        #endregion

        #region Data structure definition
        /// <summary>
        /// Defines the entirety of the LinkageSection IRecord structure as described by the Ateras.Framework.Buffer API.
        /// </summary>
        /// <param name="recordDef">The IStructureDefinition object to be used in defining the record structure.</param>
        protected override void DefineRecordStructure(IStructureDefinition recordDef)
        {

            recordDef.CreateNewGroup(Names.PSMGR_EAB_DATA, (PSMGR_EAB_DATA) =>
           {
               PSMGR_EAB_DATA.CreateNewField(Names.PSMGR_EABPCB_CNT, FieldType.CompInt, 9);
               PSMGR_EAB_DATA.CreateNewGroupArray(Names.PSMGR_EABPCB_ENTRY, 255, (PSMGR_EABPCB_ENTRY) =>
               {
                   PSMGR_EABPCB_ENTRY.CreateNewField(Names.PSMGR_EABPCB_ADR, FieldType.CompInt, 9);
               });
           });

            recordDef.CreateNewGroup(Names.W_IA, (W_IA) =>
           {
               W_IA.CreateNewGroup(Names.A_0844107090_IA, (A_0844107090_IA) =>
               {
                   A_0844107090_IA.CreateNewGroup(Names.IMPORT_0001EV, (IMPORT_0001EV) =>
                   {
                       IMPORT_0001EV.CreateNewGroup(Names.SECURITY_0001ET, (SECURITY_0001ET) =>
                       {
                           SECURITY_0001ET.CreateNewField(Names.USERID_0001AS, FieldType.String, 1);

                           IField USERID_0001_local = SECURITY_0001ET.CreateNewField(Names.USERID_0001, FieldType.String, 8);
                           SECURITY_0001ET.CreateNewFieldRedefine(Names.USERID_0001XX, FieldType.String, USERID_0001_local, 8);
                       });
                   });
               });
           });

        }

        protected override string GetRecordName()
        {
            return Names.LinkageSection;
        }
        #endregion

        public void SetPassedParameters(object[] args)
        {
            SetPassedParm(W_IA, args, 0);
            SetPassedParm(PSMGR_EAB_DATA, args, 1);
        }


        public void UpdateReturnParameters(object[] args)
        {
            SetReturnParm(W_IA, args, 0);
            SetReturnParm(PSMGR_EAB_DATA, args, 1);
        }
    }
    #endregion Linkage Section Class

    #region Business Logic Class
    public class SWEXGC00 : OnlineEABBase
    {

        #region Public Constructors
        public SWEXGC00()
            : base()
        {
            SetUpProgram();
        }

        public SWEXGC00(OnlineControl controlData) : base(controlData)
        {
            SetUpProgram();
        }

        private void SetUpProgram()
        {
            this.ProgramName = "SWEXGC00";

            WS = new SWEXGC00_ws();
            LS = new SWEXGC00_ls();
        }

        #endregion

        #region Private Fields


        //==== Working Storage Data Class ========================================
        private SWEXGC00_ws WS;

        //==== Linkage Section Data Class ========================================
        private SWEXGC00_ls LS;
        #endregion

        #region Public Methods
        //========================================================================
        //==== RunMain Entry Point Method ========================================
        //========================================================================
        public override int ExecuteMain(params object[] args)                                              //COBOL==> PROCEDURE DIVISION USING W-IA , PSMGR-EAB-DATA.
        {
            try
            {
                WS.Initialize();
                LS.SetPassedParameters(args);
                RunMain();
                LS.UpdateReturnParameters(args);
                return Return_Code.AsInt();
            }
            catch (Exception ex)
            {
                Control.ReturnException(ex);
                return 12;
            }
        }
        #endregion

        #region Private Methods

        private void RunMain()
        {
            string returnMethod = "Main";
            // Execute Procedure Division Logic
            M_MAIN_0844107087(returnMethod);
        }
        /// <summary>
        /// Method M_MAIN_0844107087
        /// </summary>
        private void M_MAIN_0844107087(string returnMethod = "")
        {
            M_PARA_0844107087_INIT("M_PARA_0844107087_INIT_EXIT"); if (Control.ExitProgram) { return; }           //COBOL==> PERFORM PARA-0844107087-INIT THRU PARA-0844107087-INIT-EXIT
            M_PARA_0844107087("M_PARA_0844107087_EXIT"); if (Control.ExitProgram) { return; }                     //COBOL==> PERFORM PARA-0844107087 THRU PARA-0844107087-EXIT
            Control.ExitProgram = true; return;                                                                 //COBOL==> GOBACK.
        }
        /// <summary>
        /// Method M_PARA_0844107087
        /// </summary>
        private void M_PARA_0844107087(string returnMethod = "")
        {
            WS.FUNC_0844107087_ESC_FLAG.SetValue("N");                                                          //COBOL==> MOVE 'N' TO FUNC-0844107087-ESC-FLAG.
                                                                                                                //COMMENT:  * * * * * * * * * * * * * * * * * * * * * *
                                                                                                                //COMMENT:    USER-WRITTEN CODE SHOULD BE INSERTED HERE
                                                                                                                //COMMENT:  * * * * * * * * * * * * * * * * * * * * * *
            WS.WS_COMMAREA.SetValue(LS.USERID_0001);                                                            //COBOL==> MOVE USERID-0001 TO WS-COMMAREA
            WS.WS_CALEN.SetValue(8);                                                                            //COBOL==> MOVE 8 TO WS-CALEN
            Control.Transfer(WS.MC_SYSTEM_SELECT_PGM, WS.WS_COMMAREA, WS.WS_CALEN.AsInt()); return;             //COBOL==> EXEC CICS XCTL PROGRAM ( MC-SYSTEM-SELECT-PGM ) COMMAREA ( WS-COMMAREA ) LENGTH ( WS-CALEN ) END-EXEC.
        }
        /// <summary>
        /// Method M_PARA_0844107087_EXIT
        /// </summary>
        private void M_PARA_0844107087_EXIT(string returnMethod = "")
        {
            if (returnMethod == "M_PARA_0844107087_EXIT") { return; }                                           //COBOL==> EXIT.
            if (returnMethod != "" && returnMethod != "M_PARA_0844107087_EXIT") { M_PARA_0844107087_INIT(returnMethod); }  //Check for pass through to next method
        }
        /// <summary>
        /// Method M_PARA_0844107087_INIT
        /// </summary>
        private void M_PARA_0844107087_INIT(string returnMethod = "")
        {
            //Continue                                                                                          //COBOL==> CONTINUE .
            if (returnMethod != "" && returnMethod != "M_PARA_0844107087_INIT") { M_PARA_0844107087_INIT_EXIT(returnMethod); }  //Check for pass through to next method
        }
        /// <summary>
        /// Method M_PARA_0844107087_INIT_EXIT
        /// </summary>
        private void M_PARA_0844107087_INIT_EXIT(string returnMethod = "")
        {
            if (returnMethod == "M_PARA_0844107087_INIT_EXIT") { return; }                                      //COBOL==> EXIT.
        }
        #endregion
    }
    #endregion
}
